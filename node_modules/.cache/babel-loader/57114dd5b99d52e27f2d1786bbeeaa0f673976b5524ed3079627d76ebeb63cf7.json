{"ast":null,"code":"import React__default from 'react';\nimport { T as TextButton, u as useForm, F as Form, H as HeaderText, S as Spacer, E as EmailInput, P as PasswordInput, a as SubmitButton, b as SecondaryButton } from './index.esm-189a9937.js';\nimport { _ as _extends, u as useEasybase } from './index-775190d4.js';\nimport { s as styled, t as toast } from './Auth-25393280.js';\nconst ForgotPassword = styled(TextButton)(props => _extends({\n  marginTop: -53,\n  marginBottom: 53,\n  display: 'flex'\n}, props.theme.forgotPassword ? _extends({}, props.theme.forgotPassword) : {}));\nfunction ForgotPassword$1(props) {\n  return React__default.createElement(ForgotPassword, Object.assign({}, props, {\n    type: \"button\"\n  }));\n}\nfunction SignIn(_ref) {\n  let {\n    setCurrentPage,\n    dictionary\n  } = _ref;\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: {\n      isSubmitting\n    }\n  } = useForm();\n  const {\n    signIn\n  } = useEasybase();\n  const onSubmit = async formData => {\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    const signInRes = await signIn(formData.email, formData.password);\n    if (!signInRes.success) {\n      if (signInRes.errorCode === \"NoUserExists\") {\n        toast.error(dictionary.errorUserDoesNotExist);\n      } else if (signInRes.errorCode === \"BadFormat\") {\n        reset();\n        toast.error(dictionary.errorBadInputFormat);\n      }\n    } // Will automatically change views\n  };\n\n  return React__default.createElement(Form, {\n    onSubmit: handleSubmit(onSubmit)\n  }, React__default.createElement(HeaderText, null, dictionary.signInHeader), React__default.createElement(Spacer, {\n    size: \"medium\"\n  }), React__default.createElement(EmailInput, {\n    register: () => register(\"email\"),\n    label: dictionary.emailLabel,\n    disabled: isSubmitting\n  }), React__default.createElement(Spacer, {\n    size: \"xlarge\"\n  }), React__default.createElement(PasswordInput, {\n    register: () => register(\"password\"),\n    autoComplete: \"current-password\",\n    disabled: isSubmitting,\n    label: dictionary.passwordLabel\n  }), React__default.createElement(Spacer, {\n    size: \"xlarge\"\n  }), React__default.createElement(ForgotPassword$1, {\n    onClick: _ => setCurrentPage(\"ForgotPassword\"),\n    disabled: isSubmitting\n  }, dictionary.forgotPasswordButton), React__default.createElement(SubmitButton, {\n    disabled: isSubmitting\n  }, dictionary.signInSubmitButton), React__default.createElement(SecondaryButton, {\n    onClick: _ => setCurrentPage(\"SignUp\"),\n    disabled: isSubmitting\n  }, dictionary.noAccountButton));\n}\nexport { SignIn as default };","map":{"version":3,"names":["ForgotPassword","styled","TextButton","props","_extends","marginTop","marginBottom","display","theme","forgotPassword","React__default","createElement","Object","assign","type","setCurrentPage","dictionary","_ref","register","handleSubmit","reset","formState","isSubmitting","useForm","signIn","useEasybase","onSubmit","formData","Promise","resolve","setTimeout","signInRes","email","password","success","errorCode","toast","error","errorUserDoesNotExist","errorBadInputFormat","Form","HeaderText","signInHeader","Spacer","size","EmailInput","label","emailLabel","disabled","PasswordInput","autoComplete","passwordLabel","ForgotPassword$1","onClick","_","forgotPasswordButton","SubmitButton","signInSubmitButton","SecondaryButton","noAccountButton"],"sources":["I:\\React\\01-starting-setup\\node_modules\\easybase-react\\src\\ui\\Auth\\components\\ForgotPassword.tsx","I:\\React\\01-starting-setup\\node_modules\\easybase-react\\src\\ui\\Auth\\pages\\SignIn.tsx"],"sourcesContent":["import React from 'react';\nimport TextButton from './internal/TextButton';\nimport styled from 'styled-components';\n\nconst ForgotPassword = styled(TextButton)(props => ({\n    marginTop: -53,\n    marginBottom: 53,\n    display: 'flex',\n    ...(props.theme.forgotPassword ? { ...props.theme.forgotPassword } : {})\n}))\n\nexport default function (props: React.ButtonHTMLAttributes<HTMLButtonElement>) {\n    return (\n        <ForgotPassword {...props} type=\"button\" />\n    )\n}\n","import React from 'react';\nimport Form from '../components/Form';\nimport EmailInput from '../components/EmailInput';\nimport PasswordInput from '../components/PasswordInput';\nimport HeaderText from '../components/HeaderText';\nimport ForgotPassword from '../components/ForgotPassword';\nimport SecondaryButton from '../components/SecondaryButton';\nimport SubmitButton from '../components/SubmitButton';\nimport Spacer from '../components/Spacer';\nimport { useForm } from 'react-hook-form';\nimport toast from 'react-hot-toast';\nimport { IPage } from '../../uiTypes';\nimport useEasybase from '../../../useEasybase';\n\nexport default function ({ setCurrentPage, dictionary }: IPage) {\n    const { register, handleSubmit, reset, formState: { isSubmitting } } = useForm();\n    const { signIn } = useEasybase();\n    const onSubmit = async (formData: Record<string, string>) => {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        const signInRes = await signIn(formData.email, formData.password);\n        if (!signInRes.success) {\n            if (signInRes.errorCode === \"NoUserExists\") {\n                toast.error(dictionary.errorUserDoesNotExist!)\n            } else if (signInRes.errorCode === \"BadFormat\") {\n                reset();\n                toast.error(dictionary.errorBadInputFormat!)\n            }\n        }\n        // Will automatically change views\n    }\n\n    return (\n        <Form onSubmit={handleSubmit(onSubmit)}>\n            <HeaderText>{dictionary.signInHeader}</HeaderText>\n            <Spacer size=\"medium\" />\n            <EmailInput\n                register={() => register(\"email\")}\n                label={dictionary.emailLabel}\n                disabled={isSubmitting}\n            />\n            <Spacer size=\"xlarge\" />\n            <PasswordInput\n                register={() => register(\"password\")}\n                autoComplete=\"current-password\"\n                disabled={isSubmitting}\n                label={dictionary.passwordLabel}\n            />\n            <Spacer size=\"xlarge\" />\n            <ForgotPassword onClick={_ => setCurrentPage(\"ForgotPassword\")} disabled={isSubmitting}>{dictionary.forgotPasswordButton}</ForgotPassword>\n            <SubmitButton disabled={isSubmitting}>{dictionary.signInSubmitButton}</SubmitButton>\n            <SecondaryButton onClick={_ => setCurrentPage(\"SignUp\")} disabled={isSubmitting}>{dictionary.noAccountButton}</SecondaryButton>\n        </Form>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}