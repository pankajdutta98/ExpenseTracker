{"ast":null,"code":"import _regeneratorRuntime from\"I:/React/01-starting-setup/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"I:/React/01-starting-setup/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"I:/React/01-starting-setup/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import Expenses from\"./Components/Expenses/Expenses\";import LoaderA from\"./Components/Loaders/LoaderA\";import LoginPage from\"./Components/Login/LoginPage\";import NewExpense from\"./Components/NewExpenses/NewExpense\";// const initExpenses = [\n//   {\n//     id: \"e1\",\n//     title: \"Toilet Paper\",\n//     amount: 94,\n//     date: new Date(2023, 7, 14),\n//   },\n//   { id: \"e2\", title: \"New TV\", amount: 799, date: new Date(2023, 2, 12) },\n//   {\n//     id: \"e3\",\n//     title: \"Car Insurance\",\n//     amount: 294,\n//     date: new Date(2023, 2, 28),\n//   },\n//   {\n//     id: \"e4\",\n//     title: \"New Desk (Wooden)\",\n//     amount: 450,\n//     date: new Date(2023, 5, 12),\n//   },\n// ];\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firstLoad=true;function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),expenses=_useState2[0],setExpenses=_useState2[1];var _useState3=useState(\"false\"),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];function fetchExpenses(){return _fetchExpenses.apply(this,arguments);}function _fetchExpenses(){_fetchExpenses=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,Expenses;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(\"https://xpensetracker.azurewebsites.net/api/ExpenseModels/Getexpenses\"// \"http://localhost:58597/api/ExpenseModels/Getexpenses\"\n);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;Expenses=data&&data.map(function(data){return{id:data.txnId,title:data.title,amount:data.amount,date:new Date(Date.parse(data.txnDate))};});console.log(Expenses);setLoading(false);setExpenses(Expenses);case 11:case\"end\":return _context.stop();}},_callee);}));return _fetchExpenses.apply(this,arguments);}if(firstLoad){fetchExpenses();firstLoad=false;}function addExpenseHandler(_x){return _addExpenseHandler.apply(this,arguments);}//Call to Edit or Delete API Based on EditDelete flag (E/D) \nfunction _addExpenseHandler(){_addExpenseHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(enteredExpense){var dataModel,response,data,Expenses;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dataModel={txnDate:enteredExpense.date,title:enteredExpense.title,amount:enteredExpense.amount,category:enteredExpense.category};setLoading(true);_context2.next=4;return fetch(\"https://xpensetracker.azurewebsites.net/api/ExpenseModels/CreateNewExpense\",// \"http://localhost:58597/api/ExpenseModels/CreateNewExpense\",\n{method:\"POST\",body:JSON.stringify(dataModel),headers:{\"Content-Type\":\"application/json\"}});case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;Expenses=data&&data.expenses.map(function(data){return{id:data.txnId,title:data.title,amount:data.amount,date:new Date(Date.parse(data.txnDate))};});console.log(Expenses);setLoading(false);setExpenses(Expenses);// console.log(enteredExpense);\n// setExpenses((previousExpenses) => [enteredExpense, ...previousExpenses]);\n// console.log(expenses);\ncase 12:case\"end\":return _context2.stop();}},_callee2);}));return _addExpenseHandler.apply(this,arguments);}function editDeleteHandler(_x2){return _editDeleteHandler.apply(this,arguments);}function _editDeleteHandler(){_editDeleteHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dataObject){var apiEndpointString,response,data,Expenses;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:setLoading(true);apiEndpointString='';if(dataObject.EditDelete==='E'){// apiEndpointString = \"http://localhost:58597/api/ExpenseModels/EditExpense\";\napiEndpointString=\"https://xpensetracker.azurewebsites.net/api/ExpenseModels/EditExpense\";}else{// apiEndpointString = \"http://localhost:58597/api/ExpenseModels/DeleteExpense\";\napiEndpointString=\"https://xpensetracker.azurewebsites.net/api/ExpenseModels/DeleteExpense\";}_context3.next=5;return fetch(apiEndpointString,{method:\"POST\",body:JSON.stringify(dataObject),headers:{\"Content-Type\":\"application/json\"}});case 5:response=_context3.sent;_context3.next=8;return response.json();case 8:data=_context3.sent;Expenses=data&&data.expenses.map(function(data){return{id:data.txnId,title:data.title,amount:data.amount,date:new Date(Date.parse(data.txnDate))};});console.log(Expenses);setLoading(false);setExpenses(Expenses);case 13:case\"end\":return _context3.stop();}},_callee3);}));return _editDeleteHandler.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NewExpense,{onAddExpense:addExpenseHandler}),loading===true?/*#__PURE__*/_jsx(LoaderA,{}):expenses!=null&&expenses.length>0?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Expenses,{onEditDelete:editDeleteHandler,items:expenses})}):\"\"]});}export default App;","map":{"version":3,"names":["useEffect","useState","Expenses","LoaderA","LoginPage","NewExpense","jsx","_jsx","jsxs","_jsxs","firstLoad","App","_useState","_useState2","_slicedToArray","expenses","setExpenses","_useState3","_useState4","loading","setLoading","fetchExpenses","_fetchExpenses","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","map","id","txnId","title","amount","date","Date","parse","txnDate","console","log","stop","addExpenseHandler","_x","_addExpenseHandler","_callee2","enteredExpense","dataModel","_callee2$","_context2","category","method","body","JSON","stringify","headers","editDeleteHandler","_x2","_editDeleteHandler","_callee3","dataObject","apiEndpointString","_callee3$","_context3","EditDelete","children","onAddExpense","length","onEditDelete","items"],"sources":["I:/React/01-starting-setup/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Expenses from \"./Components/Expenses/Expenses\";\nimport LoaderA from \"./Components/Loaders/LoaderA\";\nimport LoginPage from \"./Components/Login/LoginPage\";\nimport NewExpense from \"./Components/NewExpenses/NewExpense\";\n\n// const initExpenses = [\n//   {\n//     id: \"e1\",\n//     title: \"Toilet Paper\",\n//     amount: 94,\n//     date: new Date(2023, 7, 14),\n//   },\n//   { id: \"e2\", title: \"New TV\", amount: 799, date: new Date(2023, 2, 12) },\n//   {\n//     id: \"e3\",\n//     title: \"Car Insurance\",\n//     amount: 294,\n//     date: new Date(2023, 2, 28),\n//   },\n//   {\n//     id: \"e4\",\n//     title: \"New Desk (Wooden)\",\n//     amount: 450,\n//     date: new Date(2023, 5, 12),\n//   },\n// ];\nlet firstLoad = true;\n\nfunction App() {\n  const [expenses, setExpenses] = useState([]);\n  const [loading, setLoading] = useState(\"false\");\n\n  async function fetchExpenses() {\n    setLoading(true);\n    const response = await fetch(\n      \"https://xpensetracker.azurewebsites.net/api/ExpenseModels/Getexpenses\"\n      // \"http://localhost:58597/api/ExpenseModels/Getexpenses\"\n    );\n    const data = await response.json();\n    const Expenses =\n      data &&\n      data.map((data) => {\n        return {\n          id: data.txnId,\n          title: data.title,\n          amount: data.amount,\n          date: new Date(Date.parse(data.txnDate)),\n        };\n      });\n    console.log(Expenses);\n    setLoading(false);\n    setExpenses(Expenses);\n  }\n  if (firstLoad) {\n    fetchExpenses();\n    firstLoad = false;\n  }\n\n  async function addExpenseHandler(enteredExpense) {\n    const dataModel = {\n      txnDate: enteredExpense.date,\n      title: enteredExpense.title,\n      amount: enteredExpense.amount,\n      category: enteredExpense.category,\n    };\n    setLoading(true);\n    const response = await fetch(\n      \"https://xpensetracker.azurewebsites.net/api/ExpenseModels/CreateNewExpense\",\n      // \"http://localhost:58597/api/ExpenseModels/CreateNewExpense\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(dataModel),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    const Expenses =\n      data &&\n      data.expenses.map((data) => {\n        return {\n          id: data.txnId,\n          title: data.title,\n          amount: data.amount,\n          date: new Date(Date.parse(data.txnDate)),\n        };\n      });\n    console.log(Expenses);\n    setLoading(false);\n    setExpenses(Expenses);\n    // console.log(enteredExpense);\n    // setExpenses((previousExpenses) => [enteredExpense, ...previousExpenses]);\n    // console.log(expenses);\n  }\n\n  //Call to Edit or Delete API Based on EditDelete flag (E/D) \n  async function editDeleteHandler (dataObject){\n    setLoading(true);\n    let apiEndpointString = ''\n    if (dataObject.EditDelete === 'E'){\n      // apiEndpointString = \"http://localhost:58597/api/ExpenseModels/EditExpense\";\n      apiEndpointString = \"https://xpensetracker.azurewebsites.net/api/ExpenseModels/EditExpense\";\n    }\n    else{\n      // apiEndpointString = \"http://localhost:58597/api/ExpenseModels/DeleteExpense\";\n      apiEndpointString = \"https://xpensetracker.azurewebsites.net/api/ExpenseModels/DeleteExpense\";\n    }\n    const response = await fetch(\n      apiEndpointString,\n      {\n        method: \"POST\",\n        body: JSON.stringify(dataObject),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    const Expenses =\n      data &&\n      data.expenses.map((data) => {\n        return {\n          id: data.txnId,\n          title: data.title,\n          amount: data.amount,\n          date: new Date(Date.parse(data.txnDate)),\n        };\n      });\n    console.log(Expenses);\n    setLoading(false);\n    setExpenses(Expenses);\n  }\n\n  return (\n    <div>\n\n      <NewExpense onAddExpense={addExpenseHandler} />\n      {loading === true ? <LoaderA></LoaderA> : expenses != null && expenses.length > 0 ? (\n        <div>\n          <Expenses onEditDelete= {editDeleteHandler} items={expenses} />\n        </div>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}